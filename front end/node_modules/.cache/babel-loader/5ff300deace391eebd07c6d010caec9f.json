{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/91938/blogApp/front end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/91938/blogApp/front end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\91938\\\\blogApp\\\\front end\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import articleContent from'./SampleArticleDB';import Error from'../error/Error';import Comments from'./Comments';import UpvoteSection from'./UpvoteSection';import AddComments from'./AddComments';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Article(props){var _useParams=useParams(),name=_useParams.name;//Temp storage of DB data (front end)\nvar _useState=useState({upvotes:0,comments:[]}),_useState2=_slicedToArray(_useState,2),articleData=_useState2[0],setarticleData=_useState2[1];//Matching name parameter\nvar article=articleContent.find(function(i){return i.name===name;});//Backend connection API fetch\nuseEffect(function(){fetchAPI();},[name]);//Backend connection API fetch\nfunction fetchAPI(){return _fetchAPI.apply(this,arguments);}//Article not exist in DB\nfunction _fetchAPI(){_fetchAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5001/api/article/\".concat(name));case 2:response=_context.sent;_context.next=5;return response.json();case 5:body=_context.sent;console.log(body);setarticleData(body);case 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchAPI.apply(this,arguments);}if(!article)return/*#__PURE__*/_jsx(Error,{});//if the specified page not available\n//since we are using sampleContent as DB which is in array form so we used 'find' to iterate among DB\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"article\",children:article.title}),/*#__PURE__*/_jsx(UpvoteSection,{name:name,setarticleData:setarticleData,upvotes:articleData.upvotes}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"desc\",children:article.description}),/*#__PURE__*/_jsx(Comments,{comments:articleData.comments}),/*#__PURE__*/_jsx(AddComments,{name:name,setarticleData:setarticleData})]});}export default Article;","map":{"version":3,"sources":["C:/Users/91938/blogApp/front end/src/component/article/Article.js"],"names":["React","useEffect","useState","useParams","articleContent","Error","Comments","UpvoteSection","AddComments","Article","props","name","upvotes","comments","articleData","setarticleData","article","find","i","fetchAPI","fetch","response","json","body","console","log","title","description"],"mappings":"8WAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,cAAP,KAA2B,mBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFAEA,QAASC,CAAAA,OAAT,CAAiBC,KAAjB,CAAwB,CACpB,eAAiBP,SAAS,EAA1B,CAAQQ,IAAR,YAAQA,IAAR,CAEA;AACA,cAAsCT,QAAQ,CAAC,CAAEU,OAAO,CAAG,CAAZ,CAAeC,QAAQ,CAAG,EAA1B,CAAD,CAA9C,wCAAOC,WAAP,eAAoBC,cAApB,eAEA;AACA,GAAMC,CAAAA,OAAO,CAAGZ,cAAc,CAACa,IAAf,CAAoB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACP,IAAF,GAAWA,IAAf,EAArB,CAAhB,CAIA;AACAV,SAAS,CAAC,UAAM,CACbkB,QAAQ,GACV,CAFQ,CAEN,CAACR,IAAD,CAFM,CAAT,CAIA;AAhBoB,QAiBLQ,CAAAA,QAjBK,2CAyBpB;AAzBoB,uFAiBpB,2KAC0BC,CAAAA,KAAK,6CAAsCT,IAAtC,EAD/B,QACSU,QADT,qCAEsBA,CAAAA,QAAQ,CAACC,IAAT,EAFtB,QAESC,IAFT,eAGGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAR,cAAc,CAACQ,IAAD,CAAd,CAJH,sDAjBoB,2CA2BpB,GAAG,CAACP,OAAJ,CAAa,mBAAO,KAAC,KAAD,IAAP,CAAiB;AAE9B;AACA,mBACI,oCACI,WAAI,SAAS,CAAC,SAAd,UAAyBA,OAAO,CAACU,KAAjC,EADJ,cAEI,KAAC,aAAD,EAAe,IAAI,CAAEf,IAArB,CAA2B,cAAc,CAAEI,cAA3C,CAA2D,OAAO,CAAED,WAAW,CAACF,OAAhF,EAFJ,cAGI,aAHJ,kBAGc,aAHd,cAII,UAAG,SAAS,CAAC,MAAb,UAAqBI,OAAO,CAACW,WAA7B,EAJJ,cAKI,KAAC,QAAD,EAAU,QAAQ,CAAEb,WAAW,CAACD,QAAhC,EALJ,cAMI,KAAC,WAAD,EAAa,IAAI,CAAEF,IAAnB,CAAyB,cAAc,CAAEI,cAAzC,EANJ,GADJ,CAUH,CAED,cAAeN,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport articleContent from './SampleArticleDB';\r\nimport Error from '../error/Error';\r\nimport Comments from './Comments';\r\nimport UpvoteSection from './UpvoteSection';\r\nimport AddComments from './AddComments';\r\n\r\nfunction Article(props) {\r\n    const { name } = useParams();\r\n  \r\n    //Temp storage of DB data (front end)\r\n    const [articleData, setarticleData] = useState({ upvotes : 0, comments : [] });\r\n    \r\n    //Matching name parameter\r\n    const article = articleContent.find(i => i.name === name);\r\n    \r\n    \r\n\r\n    //Backend connection API fetch\r\n    useEffect(() => {\r\n       fetchAPI();\r\n    }, [name]);\r\n\r\n    //Backend connection API fetch\r\n    async function fetchAPI() {\r\n       const response = await fetch(`http://localhost:5001/api/article/${name}`);\r\n       const body = await response.json();\r\n       console.log(body);\r\n       setarticleData(body);\r\n       \r\n    }\r\n   \r\n    //Article not exist in DB\r\n\r\n    if(!article) return <Error /> //if the specified page not available\r\n\r\n    //since we are using sampleContent as DB which is in array form so we used 'find' to iterate among DB\r\n    return (\r\n        <div>\r\n            <h1 className='article'>{article.title}</h1>\r\n            <UpvoteSection name={name} setarticleData={setarticleData} upvotes={articleData.upvotes} />\r\n            <br></br> <br></br>\r\n            <p className='desc'>{article.description}</p>\r\n            <Comments comments={articleData.comments} />\r\n            <AddComments name={name} setarticleData={setarticleData} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Article;"]},"metadata":{},"sourceType":"module"}